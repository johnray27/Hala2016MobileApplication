<!DOCTYPE html>
<html lang="en">

	<head>
		<title>HALALAN 2015</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<script src="js/jquery.easing.min.js"></script>
		<link rel="stylesheet" href="css/bootstrap.css">
		<link href="css/freelancer.css" rel="stylesheet">
		<style type="text/css">
		#map-outer {  height: 440px; 
							padding: 20px; 
							border: 2px solid #ff0000; 
							margin-bottom: 20px; 
							background-color:#ff0000 }
		#map-container { height: 400px }
		</style>
		<style>
	#tf-home{
	background: url(img/01.jpg);
	background-size: cover;
	background-position: center;
	background-attachment: fixed;
	background-repeat: no-repeat;
	color: #cfcfcf;
	}
	
	#tf-home .overlay{
	background: -moz-linear-gradient(top,  rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.73) 17%, rgba(0,0,0,0.66) 35%, rgba(0,0,0,0.55) 62%, rgba(0,0,0,0.4) 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,0,0,0.8)), color-stop(17%,rgba(0,0,0,0.73)), color-stop(35%,rgba(0,0,0,0.66)), color-stop(62%,rgba(0,0,0,0.55)), color-stop(100%,rgba(0,0,0,0.4))); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top,  rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.73) 17%,rgba(0,0,0,0.66) 35%,rgba(0,0,0,0.55) 62%,rgba(0,0,0,0.4) 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top,  rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.73) 17%,rgba(0,0,0,0.66) 35%,rgba(0,0,0,0.55) 62%,rgba(0,0,0,0.4) 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top,  rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.73) 17%,rgba(0,0,0,0.66) 35%,rgba(0,0,0,0.55) 62%,rgba(0,0,0,0.4) 100%); /* IE10+ */
	background: linear-gradient(to bottom,  rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.73) 17%,rgba(0,0,0,0.66) 35%,rgba(0,0,0,0.55) 62%,rgba(0,0,0,0.4) 100%); /* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#cc000000', endColorstr='#66000000',GradientType=0 ); /* IE6-9 */
	height: auto;
	background-attachment: fixed;
}
		</style>
	</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top" style="background-color: #e1e1e1;" >
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top" style="color: #808080;">Hala 2016 App</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
           <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right" >
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#newsfeeds">News Feeds</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#heatmap">Heat Map</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#stats">Presidential Stats</a>
                    </li>
					<li class="page-scroll">
                        <a href="#candidates">Candidates</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    <header id="tf-home" style="background-color:#a1a1a1">
	<div class="overlay">
        <div class="container" >
            <div class="row">
                <div class="col-lg-12">
                    <img class="img-responsive" width="500px" src="img/halalan.png" alt="">
                    <div class="intro-text">
                        <span class="name">Hala 2016</span>
                    </div>
                </div>
            </div>
        </div>
	</div>	
    </header>

    <!-- Portfolio Grid Section -->
     <section id="candidates">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h3>Halalan 2016 Candidates</h3>
					<hr>
					
					<div style="overflow-y:scroll;">
					<table class="table table-striped">
					<thead>
						<tr>
							<th>Names</th>
							<th>Position</th>
							<th>Total Votes</th>
							<th colspan="3" class="text-center">Action</th>
						</tr>
					</thead>
					<tbody id="displaycandidates">
					
					</tbody>
					</table>
				
                </div>
            </div>
        </div>
	</section>
	
	
	
	 <section id="newsfeeds">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>News Feed</h2>
				
				<br><br>
				 <a class="twitter-timeline" href="https://twitter.com/hashtag/halalan2016" data-widget-id="649629242200715265">#halalan2016 Tweets</a>
				
                </div>
            </div>
        </div>
		</section>

	
	<!-- Map Section -->
    <section class="success" id="heatmap">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Voting Heat Map</h2>
                </div>
            </div>
			
		<div class="row">
					<div class="form-group">
						<form id="frmselectcandidate">
						<select class="form-control input-lg" id="txtselectcandidate" name="txtselectcandidate">
							<option value="0">Please Select Candidate</option>
							<option value="1">Jejomar Binay</option>
							<option value="2">Grace Poe</option>
							<option value="3">Mar Roxas</option>
							<option value="7">Rodrigo Duterte</option>
							<option value="8">Antonio Trillanes</option>
							<option value="9">Alan Peter Cayetano</option>
							<option value="10">Francis Escudero</option>
							<option value="11">Bong Revilla</option>
							<option value="12">Gibo Teodoro</option>
							<option value="13">Bong Bong Marcos</option>
							<option value="14">Panfilo Lacson</option>
							<option value="15">Miriam Defensor Santiago</option>
						</select>
						</form>
						<div id="displaycounttxt"></div>
					</div>
					<div id="map-container"></div>
			  </div> <!-- /row -->
			</div>
		</section>
		
		<br><br>
		<h2 class="text-center">View Presidential Stats</h2>
		<br><br>
		 <div class="row" id="stats">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                    <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->
                    
						<div id="canvas-holder" >
							<canvas id="chart-area-president" width="300" height="300"/>
						</div>
						
						
						
                </div>
            </div>
		
	<div class="modal fade in" id="Modal_Profile">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header"><h4>About <span id="candidatename"></span></h4></div>
				<div class="modal-body" align="justify">
				
				<div id="imgprofile"></div>
				<br>
				
				<div style="overflow-y:scroll;max-height:300px;">
				<p align="justify" id="about"></p>
				</div>
				<br>
				<a href="https://en.wikipedia.org/wiki/Candidates_in_the_Philippine_presidential_election,_2016">Read More About <span id="linkname"></span></a>
				
				<br><br>
				
				<label>Select Your Province</label>
				
				<h4 class="hidden" id="president_id"></h4>
				
				<select class="form-control" id="selectprovince">
					<option value="Zambales">Zambales</option>
					<option value="Bataan">Bataan</option>
					<option value="Pampanga">Pampanga</option>
					<option value="Bulacan">Bulacan</option>
					<option value="Nueva Ecija">Nueva Ecija</option>
					<option value="Aurora">Aurora</option>
					<option value="Tarlac">Tarlac</option>
				</select>
				
				<br>
				<button id="btnvote" class="btn btn-success btn-lg">Vote Now</button>
				
				</div>
				
				<p  class='text-success text-center' id="textvotestatus"></p>
				
				<div class="modal-footer">
					<button class="btn btn-primary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
		</div>

   
   	<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
	<script src="js/heatmap.min.js"></script>
	<script src="js/gmaps-heatmap.js"></script>
	<script src="js/Chart.min.js"></script>

	
	<script>
	function DisplayStats(){
	
	$.getJSON("DisplayAllVoteCount.php?callback=?",{}, function(data){
	
		
		/*var countpoe = data.countpoe;
		var countmar = data.countmar;
		var countduterte = data.countduterte;
		var counttrillanes = data.counttrillanes;
		var countcayetano = data.countcayetano;
		var countescudero = data.countescudero;
		var countrevilla = data.countrevilla;
		var countgibo = data.countgibo;
		var countmarcos = data.countmarcos;
		var countlacson = data.countlacson;
		var countsantiago = data.countsantiago;*/
		var countbinay = data.countbinay;
		var countpoe = data.countpoe;
		var countmar = data.countmar;
		var countduterte = data.countduterte;
		
		
		var doughnutData = [
				{
					value: parseInt(countbinay),
					color:"#F7464A",
					highlight: "#FF5A5E",
					label: "Jejomar Binay"
				},
				{
					value: parseInt(countpoe),
					color: "#46BFBD",
					highlight: "#5AD3D1",
					label: "Grace Poe"
				},
				{
					value: parseInt(countduterte),
					color: "#FDB45C",
					highlight: "#FFC870",
					label: "Rodrigo Duterte"
				},
				{
					value: parseInt(countmar),
					color: "#949FB1",
					highlight: "#A8B3C5",
					label: "Mar Roxas"
				}

			];
			
			
		window.onload = function(){
				var ctx = document.getElementById("chart-area-president").getContext("2d");
				window.myDoughnut = new Chart(ctx).Doughnut(doughnutData, {responsive : true});
			};
		
	});


		}
			


	</script>
	
	<script>
	
	function displaycandidates(){
	
		$.ajax({
				method: "get",
				url: "http://gcccs.org/hala2016Jim/DisplayPresidents.php",
				dataType: "html",
				data: {},
				success: function(data){
					if(data){
						$("#displaycandidates").html(data);
		
					}else{
						alert("error");
					}
				}
			});
	
	
	}			
		$(document).ready(function(){
		
		DisplayStats();
		
		/*$("#sample").click(function(){
			var sample = $(this).text();
			alert(sample);
		});*/
			$(document).on('click', '#showprofile', function(){
							
						var name = $(this).closest("tr").find("td:eq(1)").text();
						var about = $(this).closest("tr").find("td:eq(5)").text();
						var imgname = $(this).closest("tr").find("td:eq(4)").text();
						var presidentid = $(this).closest("tr").find("td:eq(0)").text();
						
							$("#candidatename").html(name);
							$("#about").html(about);
							$("#imgprofile").html("<img class='img-responsive center-block img-circle' width='250px' src='img/"+imgname+"'>");
							$("#linkname").html(name);
							$("#president_id").html(presidentid);
							$("#Modal_Profile").modal("show");
							
							localStorage.setItem("presid", presidentid);
						
			});
	
		
			$("#btnvote").click(function(){
			
			var province = $("#selectprovince").val();
			var presidentid = localStorage.getItem("presid");
		
				$.ajax({
					method: "post",
					url: "http://gcccs.org/hala2016Jim/Votes.php",
					data: {"province":province,"presidentid":presidentid},
					dataType: "html",
					success: function(data){
						if(data){
							//alert("You Have Successfully Voted");
							$("#textvotestatus").html("<h4>Vote Successfully Submitted!</h4>");
							displaycandidates();
							DisplayStats();
							
						}else{
							alert("fail");
						}
					}
				});
				
			});
		
		
		$("#txtselectcandidate").change(function(){
			////var province = $(this).val();
			//var presid = window.sessionStorage.getItem("presid");
			$.getJSON('http://gcccs.org/hala2016Jim/DisplayVoteCount.php?callback=?', $("#frmselectcandidate").serialize(), function(data){
				
				var countbataan = data.countbataan;
				var countpampanga = data.countpampanga;
				var countaurora = data.countaurora;
				var counttarlac = data.counttarlac;
				var countbulacan = data.countbulacan;
				var countnueva = data.countnueva;
				var countzambales = data.countzambales;
				
				//alert(countbataan);
				
		var var_location = new google.maps.LatLng(14.6504035,120.4271557);
		var var_locationpampanga = new google.maps.LatLng(15.0196383,120.670832);
		var var_locationaurora = new google.maps.LatLng(15.7522046,121.5714238);
		var var_locationtarlac = new google.maps.LatLng(15.5241596,120.474009);
		var var_locationbulacan = new google.maps.LatLng(14.9821516,121.0134585);
		var var_locationnueva = new google.maps.LatLng(15.647692,120.9950395);
		var var_locationzambales = new google.maps.LatLng(15.292314,120.1239505);
		
		
 
        var var_mapoptions = {
          center: var_location,
          zoom: 7,
		  mapTypeId: google.maps.MapTypeId.ROADMAP
        };
			
		var var_marker = new google.maps.Marker({
			position: var_location,
			map: var_map,
			title:"Bataan"});
			
		var var_marker1 = new google.maps.Marker({
			position: var_locationpampanga,
			map: var_map,
			title:"Pampanga"});
			
		var var_marker2 = new google.maps.Marker({
			position: var_locationaurora,
			map: var_map,
			title:"Pampanga"});
			
		var var_marker3 = new google.maps.Marker({
			position: var_locationtarlac,
			map: var_map,
			title:"Tarlac"});
			
		var var_marker4 = new google.maps.Marker({
			position: var_locationbulacan,
			map: var_map,
			title:"Bulacan"});
			
		var var_marker5 = new google.maps.Marker({
			position: var_locationnueva,
			map: var_map,
			title:"Nueva Ecija"});
			
		var var_marker6 = new google.maps.Marker({
			position: var_locationzambales,
			map: var_map,
			title:"Zambales"});
			
		
        var var_map = new google.maps.Map(document.getElementById("map-container"),var_mapoptions);
		// var var_map1 = new google.maps.Map(document.getElementById("map-container"),var_mapoptions);
		 
	
		var_marker.setMap(var_map);
		var_marker1.setMap(var_map);
		var_marker2.setMap(var_map);
		var_marker3.setMap(var_map);
		var_marker4.setMap(var_map);
		var_marker5.setMap(var_map);
		var_marker6.setMap(var_map);
		
		
		var heatmap1 = new HeatmapOverlay(var_map, 
						  {
							"radius": 0.20,
							"maxOpacity": 1, 
							"scaleRadius": true, 
							"useLocalExtrema": true,
							latField: 'lat',
							lngField: 'lng',
							// which field name in your data represents the data value - default "value"
							valueField: 'count'
						  }
						);

					
						var testData = {
						  max: 16,
						  data: [{lat: 14.6504035, lng:120.4271557, count: parseInt(countbataan)},
						  {lat: 15.0196383, lng:120.670832, count: countpampanga},
						  {lat: 15.7522046, lng:121.5714238, count: countaurora},
						  {lat: 15.5241596, lng:120.474009, count: counttarlac},
						  {lat: 14.9821516, lng:121.0134585, count: countbulacan},
						  {lat: 15.647692, lng:120.9950395, count: countnueva},
						  {lat: 15.292314, lng:120.1239505, count: countzambales},
						  ]
						};
			
						heatmap1.setData(testData);
				
					
			});
		});
			
			displaycandidates();
		});
	
	</script>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    <!-- jQuery -->
	


	<script>	
  
 
     // google.maps.event.addDomListener(window, 'load', init_map);
				
	
    </script>
	
    <!-- Custom Theme JavaScript -->
    <script src="js/freelancer.js"></script>




</body>

</html>